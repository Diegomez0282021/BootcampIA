<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portal Obesidad - ML</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">

  <style>
#ciclo .lifecycle {
    display: grid;
    gap: 18px;
  }
  #ciclo .stepper {
    background: #fff;
    border-radius: var(--radius);
    box-shadow: 0 6px 15px rgba(0,0,0,0.08);
    padding: 16px;
    border-left: 5px solid var(--secondary-color);
  }
  #ciclo .steps {
  display: flex;
  gap: 12px;
  overflow-x: auto;
  padding: 0;
  margin: 0 0 12px 0;
  list-style: none;
}

#ciclo .step {
  flex: 0 0 auto;
  width: 140px; /* adjust for readability */
  background: var(--background-color);
  border-radius: 12px;
  padding: 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  text-align: center;
  cursor: pointer;
  border: 1px solid #e6eef6;
  transition: transform .2s ease, box-shadow .2s ease, background .2s ease;
}

#ciclo .step .dot {
  width: 36px; height: 36px;
  border-radius: 50%;
  display: grid; place-items: center;
  font-weight: 700;
  background: #fff;
  border: 2px solid var(--secondary-color);
  color: var(--secondary-color);
}

#ciclo .step .label {
  font-weight: 600;
  font-size: 0.9rem;
  color: var(--primary-color);
  word-wrap: break-word; /* long words stay inside */
}

#ciclo .step.active {
  background: #e6f3ff;
  border-color: var(--secondary-color);
}
#ciclo .step.active .dot {
  background: var(--secondary-color);
  color: #fff;
}
#ciclo .step .label { font-weight: 600; color: var(--primary-color); font-size: .95rem; }

  #ciclo .progress {
    height: 8px; background: #e9eff5; border-radius: 999px; overflow: hidden;
  }
  #ciclo .progress-bar {
    height: 100%; width: 0%;
    background: linear-gradient(90deg, var(--secondary-color), #00aaff);
    transition: width .4s ease;
  }

  #ciclo .panels {
  position: relative;
  min-height: 280px; /* reserve space so it doesn‚Äôt jump */
}

#ciclo .panel {
  position: absolute;
  top: 0; left: 0; right: 0;
  background: #fff;
  border-radius: var(--radius);
  box-shadow: 0 6px 15px rgba(0,0,0,0.08);
  border-left: 5px solid var(--secondary-color);
  padding: 22px 24px;
  opacity: 0; transform: translateY(14px);
  transition: opacity .35s ease, transform .35s ease;
  pointer-events: none;
}

#ciclo .panel.active {
  opacity: 1; transform: translateY(0);
  pointer-events: auto;
  position: absolute; /* always stacked in place */
}

  #ciclo .panel h3 {
    color: var(--primary-color);
    text-align: center;
    margin-bottom: 10px;
    font-family: 'Poppins', sans-serif;
  }
  #ciclo .panel .meta {
    display: grid; gap: 6px; margin-bottom: 12px;
    justify-items: center; color: #577; font-size: .95rem;
  }
  #ciclo .panel ul { list-style: none; padding-left: 0; }
  #ciclo .panel li { text-align: justify; }
  #ciclo .panel li::before { content: "‚úîÔ∏è "; margin-right: 4px; }

  #ciclo .controls {
    display: flex; justify-content: space-between; gap: 10px; margin-top: 6px;
  }
  #ciclo .controls .btn {
    width: 100%; text-align: center;
  }

  #ciclo .video-toggle {
    text-align: center; margin-top: 6px;
  }
  #ciclo .video-wrap {
    max-height: 0; overflow: hidden;
    transition: max-height .5s ease;
    border-radius: var(--radius);
  }
  #ciclo .video-wrap.open { max-height: 520px; }
  #ciclo .video {
    width: 100%; height: 480px; border: 0; display: block;
    border-radius: 10px; box-shadow: 0 6px 15px rgba(0,0,0,0.08); margin-top: 12px;
  }

  @media (max-width: 900px) {
    #ciclo .steps { grid-template-columns: repeat(9, minmax(180px, 1fr)); }
  }



    :root {
      --primary-color: #005599;
      --secondary-color: #0077cc;
      --background-color: #f4f6f8;
      --card-background: #ffffff;
      --text-color: #333;
      --transition-speed: 0.3s ease;
      --radius: 12px;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Roboto', sans-serif;
      background: var(--background-color);
      color: var(--text-color);
      line-height: 1.6;
    }

    /* Header */
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: #fff;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      z-index: 1000;
    }
    .header-left {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    header img.avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 2px solid var(--secondary-color);
    }
    header .title {
      display: flex;
      flex-direction: column;
    }
    header .title h1 {
      font-size: 1.3rem;
      color: var(--secondary-color);
    }
    header .title span {
      font-size: 0.85rem;
      color: #555;
    }

    /* Horizontal Nav */
    nav {
      background: #fff;
      display: flex;
      justify-content: center;
      gap: 2rem;
      padding: 10px;
      margin-top: 65px;
      border-bottom: 1px solid #ddd;
      position: sticky;
      top: 65px;
      z-index: 900;
    }
    nav a {
      color: var(--primary-color);
      text-decoration: none;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 8px 14px;
      border-radius: var(--radius);
      transition: background var(--transition-speed), color var(--transition-speed);
    }
    nav a:hover, nav a.active {
      background: var(--secondary-color);
      color: #fff;
    }

    main {
      padding: 30px 20px;
      max-width: 1200px;
      margin: auto;
    }
    section {
      display: none;
      background: var(--card-background);
      padding: 20px;
      border-radius: var(--radius);
      box-shadow: 0 6px 15px rgba(0,0,0,0.08);
      margin-bottom: 25px;
      border-left: 5px solid var(--secondary-color);
      animation: fadeIn 0.5s ease;
    }
    section.active { display: block; }
    section h2 {
      font-family: 'Poppins', sans-serif;
      color: var(--primary-color);
      margin-bottom: 15px;
      text-align: center;
    }
    section p, section li {
      text-align: justify;
    }
    section ul {
      list-style: none;
      padding-left: 0;
    }
    section ul li::before {
      content: "‚úîÔ∏è ";
      color: var(--secondary-color);
    }

    /* Buttons */
    .nav-buttons {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background: #f9fbff;
  padding: 12px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-top: 2px solid #0077cc;
  box-shadow: 0 -2px 6px rgba(0,0,0,0.08);
  z-index: 1000;
}

/* Buttons */
.nav-buttons .btn {
  padding: 10px 18px;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  font-size: 14px;
  color: #fff;
  background: linear-gradient(135deg, #0077cc, #00aaff);
  box-shadow: 0 4px 8px rgba(0,0,0,0.12);
}

.nav-buttons .btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0,0,0,0.18);
}

.nav-buttons .btn:active {
  transform: scale(0.96);
}



     /* Make all .btn elements consistent */
.btn {
  display: inline-block;       /* same for <a> and <button> */
  padding: 12px 24px;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 600;
  text-align: center;
  text-decoration: none;
  background: linear-gradient(135deg, #007BFF, #0056b3);
  color: #fff;
  border: none;
  cursor: pointer;
  transition: all 0.3s ease;
  min-width: 220px;            /* ‚úÖ forces equal width */
}

/* Ensure button elements don‚Äôt shrink */
button.btn {
  width: auto;
}

/* Hover effect */
.btn:hover {
  background: linear-gradient(135deg, #0056b3, #003d80);
  transform: translateY(-2px);
}


    footer {
      text-align: center;
      padding: 15px;
      background: #fff;
      color: #555;
      border-top: 1px solid #ddd;
      margin-top: 20px;
    }
.panel img.step-image {
  max-width: 90%;
  height: auto;
  border-radius: 12px;
  box-shadow: 0 6px 14px rgba(0,0,0,0.15);
  border: 4px solid #f5f9ff;
  margin: 16px 0;
}

#analisis {
  position: relative;
  background: url("Gifs/Analisis.jpg") no-repeat center center/cover;
  color: #fff;
  padding: 5rem 2rem;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

#analisis .overlay {
  background: rgba(0, 0, 0, 0.55);
  padding: 2rem;
  border-radius: 12px;
  max-width: 800px;
  margin: 0 auto;
  text-align: center; /* ‚úÖ center text and button */
}


#analisis h2 {
  text-align: center;
  margin-bottom: 1.5rem;
  color: #fff;
}

#analisis p {
  line-height: 1.6;
  font-size: 1.1rem;
}
#analisis .overlay p,
#pdf .overlay p {
  margin-bottom: 1.5rem; /* ‚úÖ consistent spacing */
}

#analisis .btn,
#pdf .btn {
  margin-top: 1rem; /* ‚úÖ ensures button never sticks to text */
}

#pdf {
  position: relative;
  background: url("Gifs/PDF.jpg") no-repeat center center/cover;
  color: #fff;
  padding: 5rem 2rem;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

#pdf .overlay {
  background: rgba(0, 0, 0, 0.55); /* dark overlay for readability */
  padding: 2rem;
  border-radius: 12px;
  max-width: 800px;
  margin: 0 auto;
  text-align: center;
}

#pdf h2 {
  margin-bottom: 1.5rem;
  color: #fff;
}

#pdf p {
  line-height: 1.6;
  font-size: 1.1rem;
  margin-bottom: 1.5rem;
}

#pdf .btn {
  display: inline-block;
  padding: 0.8rem 1.5rem;
  background: linear-gradient(90deg, #007BFF, #00AEEF);
  color: #fff;
  text-decoration: none;
  border-radius: 30px;
  transition: transform 0.2s ease, background 0.3s ease;
}

#pdf .btn:hover {
  transform: translateY(-3px);
  background: linear-gradient(90deg, #0056b3, #0088cc);
}


.context-box {
  background: #fff;
  border-left: 5px solid #007BFF;
  border-radius: 10px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  text-align: justify;
}

.context-box h3 {
  margin-bottom: 1rem;
  color: #007BFF;
}

.context-box p {
  margin-bottom: 1rem;
  line-height: 1.6;
}

.styled-list {
  list-style: none;
  padding-left: 0;
  margin-bottom: 1.5rem;
}

.styled-list li {
  position: relative;
  padding-left: 1.8rem;
  margin-bottom: 0.5rem;
}

.styled-list li::before {
  content: "‚úî";
  position: absolute;
  left: 0;
  color: #007BFF;
  font-weight: bold;
}
/* Responsive + styled video */
/* Box styling */
/* Flex container for both boxes */
.interactive-row {
  display: flex;
  flex-wrap: wrap;
  gap: 1.5rem;
  justify-content: center;
  margin-top: 20px;
}

/* Shared box style */
.interactive-box {
  background: #fff;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  border-left: 5px solid #0077cc;
  flex: 1 1 45%;   /* Each box takes ~45% of width */
  max-width: 500px;
}

/* Make simulator inputs consistent */
.interactive-box input,
.interactive-box select {
  width: 100%;
  padding: 8px;
  margin: 6px 0;
  border-radius: 6px;
  border: 1px solid #ccc;
}

/* Video styling */
.video-container {
  position: relative;
  padding-bottom: 56.25%; /* 16:9 */
  height: 0;
  overflow: hidden;
  border-radius: 12px;
  margin-top: 1rem;
}

.video-container iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: none;
  border-radius: 12px;
}



/* Hover effect for interactivity */
.video-container:hover {
  transform: scale(1.02);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
}


    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(15px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @media (max-width: 768px) {
      nav {
        gap: 0.5rem;
        flex-wrap: wrap;
      }
      nav a {
        font-size: 0.9rem;
        padding: 6px 10px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-left">
      <img src="https://i.pravatar.cc/40" alt="Avatar" class="avatar">
      <div class="title">
        <span>Bienvenido, Usuario</span>
        <h1>Portal Obesidad - ML</h1>
      </div>
    </div>
  </header>

  <nav>
    <a href="#inicio" class="active" onclick="showSection('inicio', this)">üè† Inicio</a>
    <a href="#ciclo" onclick="showSection('ciclo', this)">üîÑ Ciclo de vida</a>
    <a href="#contexto" onclick="showSection('contexto', this)">üìå Contexto</a>
    <a href="#analisis" onclick="showSection('analisis', this)">üìä An√°lisis</a>
    <a href="#pdf" onclick="showSection('pdf', this)">üìÑ PDF</a>
    <a href="#interactiva" onclick="showSection('interactiva', this)">üñ±Ô∏è Secci√≥n Interactiva</a>

  </nav>

  <main>
    <section id="inicio" class="active">
  <h2>Inicio</h2>
  <p>Video explicativo sobre el dataset de obesidad:</p>

  <!-- Responsive video wrapper -->
  <div class="video-container">
    <iframe 
      src="https://www.youtube-nocookie.com/embed/jsgK2uuAh6w" 
      frameborder="0" 
      allowfullscreen>
    </iframe>
  </div>

  <p>
   El conjunto de datos ‚ÄúObesity or CVD Risk ‚Äì Classify/Regressor/Cluster‚Äù de Kaggle re√∫ne informaci√≥n estructurada sobre variables antropom√©tricas, de estilo de vida y de riesgo asociado, siendo un recurso id√≥neo para un an√°lisis exploratorio, aplicar t√©cnicas estad√≠sticas y de visualizaci√≥n para describir distribuciones y examinar correlaciones. Al ser un dataset de acceso libre y con un enfoque en salud, cumple con los criterios √©ticos y pr√°cticos para el desarrollo de¬†este¬†proyecto.
  </p>

  <ul>
    <li><b>Prevalencia:</b> La obesidad tipo III fue la m√°s frecuente (32%).</li>
    <li><b>Factores clave:</b> Peso, altura y edad mostraron mayor poder predictivo.</li>
    <li><b>H√°bitos protectores:</b> Actividad f√≠sica y consumo de agua reducen IMC.</li>
    <li><b>Movilidad:</b> 68% usa transporte p√∫blico; movilidad activa disminuye con IMC.</li>
  </ul>
</section>

    <section id="ciclo">
  <h2>Ciclo de vida de un proyecto de ML</h2>

  <div class="lifecycle">
    <div class="stepper" aria-label="Pasos del ciclo de vida de Machine Learning">
      <ol class="steps" id="ml-steps">
        <li class="step active" data-step="0" tabindex="0">
          <div class="dot">1</div><div class="label">Definir problema</div>
        </li>
        <li class="step" data-step="1" tabindex="0">
          <div class="dot">2</div><div class="label">Recolecci√≥n de datos</div>
        </li>
        <li class="step" data-step="2" tabindex="0">
          <div class="dot">3</div><div class="label">Preparacion y limpieza</div>
        </li>
        <li class="step" data-step="3" tabindex="0">
          <div class="dot">4</div><div class="label">EDA</div>
        </li>
        <li class="step" data-step="4" tabindex="0">
          <div class="dot">5</div><div class="label">Ingenier√≠a de modelos</div>
        </li>
        <li class="step" data-step="6" tabindex="0">
          <div class="dot">6</div><div class="label">Evaluaci√≥n</div>
        </li>
        <li class="step" data-step="7" tabindex="0">
          <div class="dot">7</div><div class="label">Despliegue</div>
        </li>
        <li class="step" data-step="8" tabindex="0">
          <div class="dot">8</div><div class="label">Mantenimiento & Actualizaci√≥n</div>
        </li>
      </ol>
      <div class="progress" aria-hidden="true"><div class="progress-bar" id="ml-progress"></div></div>
    </div>

    <div class="panels" id="ml-panels">
      <!-- 0 -->
      <article class="panel active" data-step="0">
        <h3>1) Definir el problema</h3>
        <div class="meta">üéØ Objetivo claro ‚Ä¢ üéöÔ∏è Tipo de tarea (clasificaci√≥n/regresi√≥n) ‚Ä¢ üìè M√©trica de √©xito</div>
        <ul>
          <li>En esta fase se debe determinar claramente qu√© se quiere lograr con el modelo, se eval√∫a si el problema es adecuado para ser abordado con ML y si se dispone de datos suficientes y de calidad. 
            Responde a la pregunta: ¬øQu√© queremos¬†resolver?</li>
          <li>Traduce a un problema ML y define <b>m√©tricas</b> (AUC, F1, RMSE).</li>
        
        </ul>
      </article>
      <!-- 1 -->
      <article class="panel" data-step="1">
        <h3>2) Recolecci√≥n de datos</h3>
        <div class="meta">üóÇÔ∏è Or√≠genes ‚Ä¢ üîê Permisos ‚Ä¢ üìÑ Documentaci√≥n</div>
        <ul>

         
          En el proyecto de predicci√≥n de obesidad, la recolecci√≥n de datos se realiz√≥ de la siguiente manera:
         <li>Fuente de datos: Se utilizaron dos conjuntos de datos en formato CSV:
         <b> ObesityDataSet.csv, train.csv</b>
          <li>Estructura de los datos: El dataset incluye 17 columnas con variables como:
          <li>Demogr√°ficas: Gender, Age, Height, Weight
          <li>H√°bitos alimenticios: FAVC, FCVC, NCP, CAEC, CALC, CH2O o	Actividad f√≠sica: FAF
          <li>Historial familiar: family_history_with_overweight
         <li>	Consumo de tabaco: SMOKE
         <li>	Uso de tecnolog√≠a: TUE (convertido a minutos)
          <li>	Transporte: MTRANS
          <li>	Variable objetivo: NObeyesdad (clasificaci√≥n de peso)
          <li>	Calidad de datos:
          No hay valores nulos.
          Se identificaron y eliminaron duplicados (24 registros).
          Se normalizaron variables categ√≥ricas binarias (yes/no ‚Üí 1/0).
          Se agreg√≥ una variable sint√©tica: Country (Colombia/Per√∫) para enriquecer¬†el¬†an√°lisis.
        </ul>

      </article>
      <!-- 2 -->
      <article class="panel" data-step="2">
  <h3>3) Limpieza de datos</h3>
  <div class="meta">üßπ Depuraci√≥n ‚Ä¢ üìä Normalizaci√≥n ‚Ä¢ üîë Selecci√≥n de variables</div>

  <div style="background:#f9fbff; padding:18px 20px; border-radius:12px; 
              box-shadow:0 4px 12px rgba(0,0,0,0.08); border-left:5px solid #0077cc;
              line-height:1.6;">

    <p><b>Analog√≠a:</b> Esta etapa es como limpiar y organizar los ingredientes antes de cocinar.</p>
    <p>El dataset contiene variables demogr√°ficas, cl√≠nicas y de estilo de vida que son predictores conocidos de obesidad y enfermedades cardiovasculares. Tiene <b>17 variables</b> y <b>2111 registros</b>.</p>

    <h4 style="color:#005599; margin-top:14px;">1Ô∏è‚É£ Exploraci√≥n inicial</h4>
    <ul style="list-style:none; padding:0;">
      <li>Verificar tipos de datos (num√©ricos, categ√≥ricos, booleanos).</li>
      <li>Identificar valores faltantes o err√≥neos.</li>
      <li>Revisar la distribuci√≥n de cada variable (edad, IMC, presi√≥n arterial).</li>
      <li>¬øQu√© variables hay? Edad, g√©nero, IMC, presi√≥n arterial, frecuencia card√≠aca...</li>
      <li>Detecci√≥n de duplicados o valores imposibles (<i>ej: edad = 0</i>).</li>
    </ul>
    <p><i>Ejemplo:</i> Si hay registros con <b>edad = 0</b> o <b>IMC = 1000</b>, probablemente sean errores.</p>

    <h4 style="color:#005599; margin-top:14px;">2Ô∏è‚É£ Limpieza</h4>
    <ul style="list-style:none; padding:0;">
      <li>üßΩ Eliminar o imputar valores nulos (media, mediana, valor l√≥gico).</li>
      <li>üßΩ Corregir inconsistencias (ej: ‚ÄúM‚Äù, ‚ÄúF‚Äù, ‚Äúfemenino‚Äù ‚Üí unificar).</li>
      <li>üßΩ Detectar y tratar outliers con boxplots o z-scores.</li>
      <li>üßΩ Eliminar duplicados innecesarios.</li>
    </ul>
    <p><i>Observaci√≥n:</i> Si el 30% de los datos de frecuencia card√≠aca est√°n vac√≠os, quiz√° esa variable no sea √∫til.</p>

    <h4 style="color:#005599; margin-top:14px;">3Ô∏è‚É£ Codificaci√≥n de variables</h4>
    <ul style="list-style:none; padding:0;">
      <li>üî¢ <b>Label Encoding:</b> Texto ‚Üí n√∫meros (Femenino=0, Masculino=1).</li>
      <li>üî¢ <b>One-Hot Encoding:</b> Una columna por cada categor√≠a (√∫til si son pocas).</li>
    </ul>

    <h4 style="color:#005599; margin-top:14px;">4Ô∏è‚É£ Normalizaci√≥n o escalado</h4>
    <ul style="list-style:none; padding:0;">
      <li>üìè Ajustar variables a la misma escala (edad vs. presi√≥n arterial).</li>
      <li>üìè <b>Min-Max Scaling:</b> valores entre 0 y 1.</li>
      <li>üìè <b>Standard Scaling:</b> media 0 y desviaci√≥n est√°ndar 1.</li>
    </ul>
    <p><i>Ejemplo:</i> IMC de 18‚Äì40 vs. edad de 0‚Äì100 ‚Üí si no se escalan, la edad domina.</p>

    <h4 style="color:#005599; margin-top:14px;">5Ô∏è‚É£ Selecci√≥n de caracter√≠sticas</h4>
    <ul style="list-style:none; padding:0;">
      <li>üîë Identificar variables relevantes.</li>
      <li>üîë Eliminar variables altamente correlacionadas.</li>
      <li>üîë Usar <b>importancia de caracter√≠sticas</b> (Random Forest, ANOVA, PCA).</li>
    </ul>
  </div>
</article>

      <!-- 3 -->
     <article class="panel" data-step="5">
  <h3>4) An√°lisis Exploratorio de Datos (EDA)</h3>
  <div class="meta">üîç Exploraci√≥n ‚Ä¢ üìä Visualizaci√≥n ‚Ä¢ üìà Patrones</div>

  <div style="background:#f9fbff; padding:18px 20px; border-radius:12px; 
              box-shadow:0 4px 12px rgba(0,0,0,0.08); border-left:5px solid #0077cc;
              line-height:1.6;">

    <p><b>El An√°lisis Exploratorio de Datos (EDA)</b> es una etapa clave para comprender la estructura, 
    distribuci√≥n y relaciones dentro del dataset antes de aplicar modelos de Machine Learning.</p>

    <p>En el caso de nuestro <b>dataset de obesidad</b> (2111 registros, 17 atributos), 
    el EDA permite identificar <b>patrones</b>, <b>correlaciones</b> y posibles problemas de calidad.</p>

    <h4 style="color:#005599; margin-top:14px;">üìä Aspectos principales del EDA</h4>
    <ul style="list-style:none; padding:0;">
      <li><b>Distribuci√≥n de variables:</b> Revisar edad, peso, altura, IMC y su variabilidad.</li>
      <li><b>Diferencias de g√©nero:</b> Analizar h√°bitos alimenticios y de actividad f√≠sica seg√∫n sexo.</li>
      <li><b>H√°bitos y estilos de vida:</b> Consumo de calor√≠as, frecuencia de comidas r√°pidas, ejercicio f√≠sico.</li>
      <li><b>Correlaciones:</b> Relaci√≥n entre IMC y variables como consumo de alcohol, sue√±o o tiempo de pantalla.</li>
      <li><b>Detecci√≥n de anomal√≠as:</b> Outliers en peso, altura o frecuencia de comidas.</li>
    </ul>

    <h4 style="color:#005599; margin-top:14px;">üìà Visualizaciones recomendadas</h4>
    <ul style="list-style:none; padding:0;">
      <li>Histogramas y boxplots para edad, IMC y horas de actividad.</li>
      <li>Gr√°ficos de barras para h√°bitos de consumo (bebidas azucaradas, snacks, alcohol).</li>
      <li>Mapas de calor de correlaciones entre variables.</li>
      <li>Diagramas de dispersi√≥n para explorar la relaci√≥n entre altura, peso e IMC.</li>
    </ul>

    <h4 style="color:#005599; margin-top:14px;">‚úÖ Conclusi√≥n</h4>
    <p>El EDA permite <b>construir hip√≥tesis</b> sobre los factores que influyen en la obesidad y preparar 
    la base para la <b>selecci√≥n de caracter√≠sticas</b> y el <b>modelado</b>. En este dataset, el an√°lisis inicial 
    revela que <b>h√°bitos alimenticios y de ejercicio</b> tienen una fuerte relaci√≥n con la categor√≠a de obesidad.</p>
  </div>
</article>


   
      <!-- 6 -->
      <article class="panel" data-step="4">
  <h3>5) Ingenier√≠a de caracter√≠sticas y modelo</h3>
  <div class="meta">‚öôÔ∏è Transformaciones ‚Ä¢ üßÆ Selecci√≥n ‚Ä¢ ü§ñ Modelado</div>

  <div style="background:#f9fbff; padding:18px 20px; border-radius:12px; 
              box-shadow:0 4px 12px rgba(0,0,0,0.08); border-left:5px solid #0077cc;
              line-height:1.6;">

    <p><b>INGENIER√çA DE MODELO:</b> En este proyecto se aplican modelos de <b>clasificaci√≥n supervisada</b> 
      (<i>Regresi√≥n Log√≠stica, Random Forest, √Årboles de decisi√≥n, XGBoost y Redes Neuronales</i>) 
      para predecir el nivel de obesidad o riesgo cardiovascular. 
      Adem√°s, se explora <b>clustering no supervisado</b> (K-Means, DBSCAN) 
      para identificar perfiles de riesgo similares.</p>

    <h4 style="color:#005599; margin-top:14px;">üîß La ingenier√≠a de caracter√≠sticas incluye:</h4>
    <ul style="list-style:none; padding:0;">
      <li>Normalizaci√≥n de variables num√©ricas (peso, altura, IMC).</li>
      <li>Creaci√≥n de nuevas variables como el <b>IMC</b>.</li>
      <li>Codificaci√≥n de variables categ√≥ricas.</li>
      <li>Control de outliers.</li>
    </ul>

    <h4 style="color:#005599; margin-top:14px;">üìä Selecci√≥n de caracter√≠sticas</h4>
    <ul style="list-style:none; padding:0;">
      <li>M√©todos de <b>importancia de variables</b> (Random Forest, Permutation Importance).</li>
      <li>Reducci√≥n dimensional con <b>PCA</b> de forma exploratoria.</li>
    </ul>

    <h4 style="color:#005599; margin-top:14px;">ü§ñ Entrenamiento de modelos</h4>
    <ul style="list-style:none; padding:0;">
      <li>Conjuntos de <b>entrenamiento/validaci√≥n</b>.</li>
      <li>M√©tricas: <b>Accuracy, Precision, Recall, F1-Score</b>.</li>
      <li>Ajuste de hiperpar√°metros con <b>Grid Search</b> o <b>Random Search</b>.</li>
    </ul>

    <h4 style="color:#005599; margin-top:14px;">üîç Interpretabilidad</h4>
    <p>Se incorporan t√©cnicas como <b>SHAP</b> o <b>Permutation Importance</b> para entender qu√© factores influyen m√°s en la predicci√≥n.</p>

    <p style="margin-top:12px;"><b>‚úÖ En conclusi√≥n:</b> la ingenier√≠a del modelo combina clasificaci√≥n y segmentaci√≥n con un enfoque robusto en la calidad de los datos y la interpretabilidad, lo que permite no solo <b>predecir riesgos con precisi√≥n</b>, sino tambi√©n <b>identificar h√°bitos clave</b> que impactan en la obesidad y las enfermedades cardiovasculares.</p>
  </div>
</article>

      <!-- 7 -->
     </article>

      <!-- 3 -->
      <article class="panel" data-step="5">
  <h3>6) Evaluaci√≥n del modelo</h3>
  <div class="meta">üìä M√©tricas ‚Ä¢ üîç Validaci√≥n ‚Ä¢ üìà Interpretabilidad</div>

  <div style="background:#f9fbff; padding:18px 20px; border-radius:12px; 
              box-shadow:0 4px 12px rgba(0,0,0,0.08); border-left:5px solid #0077cc;
              line-height:1.6;">

    <p><b>EVALUACI√ìN DEL MODELO</b> es el proceso de analizar y medir qu√© tan bien un modelo de machine learning aprende de los datos y generaliza a nuevos casos. No basta con que funcione en el entrenamiento: debe ser confiable en la pr√°ctica.</p>

    <p><b>La evaluaci√≥n permite:</b></p>
    <ul style="list-style:none; padding:0;">
      <li>Detectar errores y sesgos</li>
      <li>Medir la capacidad de generalizaci√≥n</li>
      <li>Evitar <i>overfitting</i> y <i>underfitting</i></li>
      <li>Comparar modelos y elegir el m√°s robusto</li>
    </ul>

    <h4 style="color:#005599; margin-top:14px;">üìÇ Nuestra base de datos</h4>
    <ul style="list-style:none; padding:0;">
      <li>2111 registros y 17 atributos (Kaggle).</li>
      <li>Datos demogr√°ficos y conductuales (h√°bitos, actividad f√≠sica, g√©nero, edad, altura, peso, etc.).</li>
      <li>La etiqueta principal es <b>NObeyesdad</b>, que clasifica niveles de obesidad en m√∫ltiples categor√≠as.</li>
      <li>Adecuado para <b>clasificaci√≥n multiclase</b>, <b>regresi√≥n</b> o <b>clustering</b>.</li>
    </ul>

    <h4 style="color:#005599; margin-top:14px;">‚öôÔ∏è ¬øC√≥mo se hace la evaluaci√≥n?</h4>
    <ol style="padding-left:18px; margin:0;">
      <li><b>Divisi√≥n de datos:</b> Entrenamiento (80%) y prueba (20%). Tambi√©n validaci√≥n cruzada (k-fold) para mayor robustez.</li>
      <li><b>Comparaci√≥n entre modelos:</b> Se prueban varios algoritmos y se elige el mejor seg√∫n las m√©tricas.</li>
      <li><b>Visualizaci√≥n de resultados:</b> Matriz de confusi√≥n, curvas ROC, errores de predicci√≥n, gr√°ficos claros.</li>
    </ol>

    <p style="margin-top:12px;">Tambi√©n son importantes: curvas de aprendizaje, an√°lisis de sesgo-varianza, an√°lisis multivariados, e interpretabilidad (ej. <b>SHAP</b>, <b>LIME</b>).</p>

    <p><b>¬øPor qu√© es crucial?</b> Un modelo mal evaluado puede parecer funcional, pero fallar en la pr√°ctica. En salud, esto podr√≠a significar diagn√≥sticos err√≥neos o tratamientos inadecuados.</p>
  </div>
</article>

<article class="panel" data-step="6">
  <h3>7) Despliegue del modelo</h3>
  <div class="meta">üöÄ Implementaci√≥n ‚Ä¢ üåê Accesibilidad ‚Ä¢ üñ•Ô∏è Interfaz</div>

  <div style="background:#f9fbff; padding:18px 20px; border-radius:12px; 
              box-shadow:0 4px 12px rgba(0,0,0,0.08); border-left:5px solid #0077cc;
              line-height:1.6;">

    <p><b>DESPLIEGUE DEL MODELO EN EL PROYECTO:</b> Una vez entrenado y evaluado el modelo de Machine Learning para predecir el riesgo de obesidad o enfermedad cardiovascular, la fase de despliegue consiste en poner ese modelo al servicio de los usuarios o de los tomadores de decisiones.</p>

    <h4 style="color:#005599; margin-top:14px;">‚öôÔ∏è ¬øC√≥mo se har√≠a el despliegue en este caso?</h4>
    <ul style="list-style:none; padding:0;">
      <li>‚úîÔ∏è Guardamos el modelo ya entrenado.</li>
      <li>‚úîÔ∏è Lo conectamos a una <b>calculadora web</b> (como el simulador), donde el usuario ingresa: peso, altura, ejercicio, alimentaci√≥n.</li>
      <li>‚úîÔ∏è La aplicaci√≥n muestra si tiene <b>bajo riesgo, riesgo moderado o alto riesgo</b>.</li>
    </ul>

    <h4 style="color:#005599; margin-top:14px;">üí° ¬øPor qu√© esto ya cuenta como despliegue?</h4>
    <p>Porque el modelo ya no est√° solo en un c√≥digo t√©cnico, sino que lo puede usar <b>cualquiera sin saber de programaci√≥n</b>.  
    Eso es exactamente lo que implica ‚Äúdesplegar‚Äù un modelo.</p>

    <h4 style="color:#005599; margin-top:14px;">‚úÖ Conclusi√≥n</h4>
    <p>En este proyecto, el despliegue no requiere necesariamente infraestructura en la nube.  
    Se propone como soluci√≥n pr√°ctica <b>generar una interfaz web</b> (simulador) que permita a cualquier usuario ingresar sus datos y observar el riesgo estimado utilizando un modelo previamente entrenado y guardado.  
    Esto demuestra la funcionalidad del sistema y convierte el an√°lisis en una <b>herramienta real de apoyo a la toma de decisiones</b>.</p>
  </div>
</article>
<article class="panel" data-step="7">
  <h3>8) Mantenimiento y Actualizaci√≥n</h3>
  <div class="meta">üîÑ Ciclo continuo ‚Ä¢ üìà Retraining ‚Ä¢ üßπ Limpieza peri√≥dica</div>

  <div style="background:#f9fbff; padding:18px 20px; border-radius:12px; 
              box-shadow:0 4px 12px rgba(0,0,0,0.08); border-left:5px solid #0077cc;
              line-height:1.6;">

    <p><b>Mantenimiento y Actualizaci√≥n:</b> El mantenimiento y la actualizaci√≥n del modelo y los datos son clave para la sostenibilidad del proyecto.</p>

    <h4 style="color:#005599; margin-top:14px;">üõ†Ô∏è Mantenimiento del Modelo</h4>
    <ul style="list-style:none; padding:0;">
      <li><b>Monitoreo continuo:</b> Evaluar peri√≥dicamente el rendimiento del modelo en producci√≥n (ej. Accuracy, AUC-ROC).</li>
      <li><b>Retraining:</b> Re-entrenar el modelo con nuevos datos para evitar desfases (<i>data drift</i>).</li>
      <li><b>Validaci√≥n de datos de entrada:</b> Asegurar que los nuevos datos mantengan la misma distribuci√≥n y formato esperado.</li>
    </ul>

    <h4 style="color:#005599; margin-top:14px;">üìä Actualizaci√≥n de Datos</h4>
    <ul style="list-style:none; padding:0;">
      <li><b>Nuevas fuentes:</b> Incorporar datos de otras regiones o pa√≠ses.</li>
      <li><b>Variables adicionales:</b> Incluir nuevas caracter√≠sticas relevantes (ej. nivel socioecon√≥mico, dieta espec√≠fica).</li>
      <li><b>Limpieza peri√≥dica:</b> Eliminar duplicados y outliers en lotes de datos nuevos.</li>
    </ul>

    <h4 style="color:#005599; margin-top:14px;">üìå Ejemplos de acciones realizadas</h4>
    <ul style="list-style:none; padding:0;">
      <li>Eliminaci√≥n de la columna <b>SCC</b> por irrelevancia.</li>
      <li>Transformaci√≥n de <b>TUE</b> de horas a minutos para mejor interpretaci√≥n.</li>
      <li>Codificaci√≥n de variables categ√≥ricas para compatibilidad con modelos de ML.</li>
    </ul>
  </div>
</article>


    </div>
<div class="nav-buttons">
  <button class="btn prev">‚¨ÖÔ∏è Anterior</button>
  <button class="btn toggle-video">üé• Ver/Ocultar video</button>
  <button class="btn next">Siguiente ‚û°Ô∏è</button>
</div>

    <!-- <div class="controls">
      <button class="btn" id="ml-prev">‚Üê Anterior</button>
      <button class="btn" id="ml-next">Siguiente ‚Üí</button>
    </div> -->

    <div class="video-toggle">
      <button class="btn" id="ml-video-toggle">üé• Ver/ocultar video explicativo</button>
      <div class="video-wrap" id="ml-video-wrap">
        <iframe class="video" src="https://www.youtube-nocookie.com/embed/jsgK2uuAh6w" allowfullscreen></iframe>
      </div>
    </div>
  </div>
</section>

   <section id="contexto">
  <h2>Selecci√≥n del contexto y problema</h2>
  
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 20px;">
    
    <div class="context-box" style="background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); border-left: 5px solid #0077cc;">
      <h3 style="color:#005599; margin-bottom: 10px;">üìå Descripci√≥n general</h3>
     <p>
    Este proyecto desarrolla un an√°lisis exploratorio de datos (EDA) sobre el conjunto de datos 
    <strong>‚ÄúObesity or CVD Risk ‚Äì Classify/Regressor/Cluster‚Äù</strong>, disponible en la plataforma Kaggle. 
    El prop√≥sito principal es identificar y analizar patrones y relaciones entre variables asociadas a 
    h√°bitos de vida, caracter√≠sticas demogr√°ficas y factores de riesgo vinculados a la obesidad y a las 
    enfermedades cardiovasculares.
  </p>
  <p>
    El conjunto de datos analizado contiene <strong>2.111 registros</strong> y <strong>17 atributos</strong> relacionados con 
    variables antropom√©tricas, demogr√°ficas y de estilo de vida. Est√° dise√±ado para tareas de 
    <em>clasificaci√≥n</em> orientadas a predecir el tipo de obesidad de una persona a partir de variables como:
  </p>
  <ul class="styled-list">
    <li>Edad, g√©nero, peso, altura</li>
    <li>Consumo de calor√≠as, actividad f√≠sica, tiempo en pantalla</li>
    <li>Medio de transporte, hidrataci√≥n, antecedentes familiares</li>
  </ul>
  <p>
    El an√°lisis contempla la inspecci√≥n inicial de la informaci√≥n, la limpieza de datos, la detecci√≥n 
    y tratamiento de valores nulos y duplicados, as√≠ como la normalizaci√≥n de variables cuando es pertinente. 
    Posteriormente, se abordan visualizaciones univariadas y bivariadas que permiten examinar tanto la 
    distribuci√≥n de variables individuales como las relaciones entre pares de variables relevantes.
  </p>
  <p>
    Tambi√©n se calculan las correlaciones para identificar asociaciones estad√≠sticamente significativas, 
    y se aplican t√©cnicas como el <strong>An√°lisis de Componentes Principales (PCA)</strong> para la identificaci√≥n 
    de posibles perfiles de riesgo.
  </p>
    </div>

    <div class="context-box" style="background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); border-left: 5px solid #0077cc;">
      <h3 style="color:#005599; margin-bottom: 10px;">‚ùì Problema de investigaci√≥n</h3>
      <p>
       <p>
    ¬øPodemos usar datos sobre <strong>h√°bitos de vida, salud y caracter√≠sticas personales</strong> para intentar 
    predecir el tipo de obesidad de una persona a partir de variables como:
  </p>
  <ul class="styled-list">
    <li>Consumo de calor√≠as</li>
    <li>Peso actual</li>
    <li>Edad</li>
    <li>G√©nero</li>
    <li>Antecedentes familiares de sobrepeso</li>
    <li>Actividad f√≠sica</li>
    <li>Tiempo en pantalla</li>
  </ul>
  <p>
    Esto se aborda mediante el <strong>an√°lisis de correlaci√≥n de variables</strong>, con el fin de identificar 
    relaciones significativas que puedan aportar a la predicci√≥n del tipo de obesidad.
  </p>
    </div>

    <div class="context-box" style="background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); border-left: 5px solid #0077cc;">
      <h3 style="color:#005599; margin-bottom: 10px;">üéØ Objetivo</h3>
    <p>
    <strong>Objetivo general:</strong> Realizar un <em>an√°lisis exploratorio de datos (EDA)</em> sobre el conjunto de datos 
    <strong>‚ÄúObesity or CVD Risk ‚Äì Classify/Regressor/Cluster‚Äù</strong> para identificar patrones, distribuciones y 
    relaciones significativas entre variables antropom√©tricas, h√°bitos de vida, riesgo de obesidad y enfermedades cardiovasculares.
  </p>
    </div>

  </div>
</section>

    <section id="analisis">
      
      <div class="overlay">
    <h2>An√°lisis exploratorio de datos</h2>
    <p>Consulta el an√°lisis detallado en Google Colab:</p>
    
      <a href="https://colab.research.google.com/drive/1eNosl4dBdGDJehlBzuTXooGsVtuLCk0T#scrollTo=UPpnUCEDqUPj" target="_blank" class="btn">üìä Ver An√°lisis Completo</a>
  </div>

      
    </section>

    <section id="pdf">
       <div class="overlay">
      <h2>Generar PDF final</h2>
      <p>Haz clic para previsualizar o descargar el documento:</p>
      <button class="btn" onclick="togglePreview()">üëÅÔ∏è Ver / Ocultar PDF</button>
       <div class="pdf-preview" id="pdfPreview" style="display:none; margin:1rem 0;">
      <iframe src="/files/Proyecto_final_IA.pdf" width="100%" height="500px"></iframe>
    </div>
      <a href="/files/Proyecto_final_IA.pdf" download class="btn">üìÑ Descargar PDF Final</a>
    
      
    </div>
    </section>

    <section id="interactiva">
  <h2>Secci√≥n Interactiva</h2>
  <p>Explora este espacio interactivo dise√±ado para probar conceptos de obesidad y estilos de vida saludables.</p>

  <!-- Grid with 3 cards -->
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 20px; margin-top: 20px;">
    
    <!-- Card 1: IMC Calculator -->
    <div style="background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); border-left: 5px solid #0077cc;">
      <h3 style="color:#005599; margin-bottom: 10px;">üìä Calculadora IMC</h3>
      <p>Introduce tu peso y altura para calcular tu √çndice de Masa Corporal.</p>
      <input type="number" id="peso" placeholder="Peso (kg)" style="width:100%; padding:8px; margin:6px 0; border-radius:6px; border:1px solid #ccc;">
      <input type="number" id="altura" placeholder="Altura (cm)" style="width:100%; padding:8px; margin:6px 0; border-radius:6px; border:1px solid #ccc;">
      <button onclick="calcularIMC()" class="btn">Calcular</button>
      <p id="resultadoIMC" style="margin-top:10px; font-weight:600;"></p>
    </div>

    <!-- Card 2: Healthy Tips -->
    <div style="background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); border-left: 5px solid #0077cc;">
      <h3 style="color:#005599; margin-bottom: 10px;">ü•ó Consejos Saludables</h3>
      <ul style="list-style:none; padding:0;">
        <li>Mant√©n una dieta equilibrada.</li>
        <li>Realiza actividad f√≠sica regular.</li>
        <li>Hidr√°tate con suficiente agua.</li>
        <li>Evita el consumo excesivo de az√∫cares.</li>
      </ul>
    </div>

    <!-- Card 3: Obesity Poll -->
  <div style="background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); border-left: 5px solid #0077cc;">
      <h3 style="color:#005599; margin-bottom: 10px;">üó≥Ô∏è Participa en la Encuesta</h3>
      <p>Tu opini√≥n es importante. Ay√∫danos a entender m√°s sobre la obesidad y los h√°bitos de vida respondiendo nuestra encuesta.</p>
      <a href="https://docs.google.com/forms/d/e/1FAIpQLSelFWL_QfQtpaydXs7iZ9MwTCcXE5P8vOaStmQ_s7PgLgr4LQ/viewform?usp=header" target="_blank" class="btn">üìù Ir a la Encuesta</a>
    </div>

  </div> <!-- end grid -->

  <!-- Card 4: Obesity Risk Simulator (full width at bottom) -->
<!-- Row container for simulator + video -->
<div class="interactive-row">
  
  <!-- Simulador de Riesgo (smaller, left side) -->
  <div class="interactive-box small-box">
    <h3>‚öñÔ∏è Simulador de Riesgo de Obesidad</h3>
    <p>Introduce tus datos y obt√©n una estimaci√≥n del riesgo de obesidad.</p>

    <input type="number" id="edad" placeholder="Edad (a√±os)">
    <input type="number" id="peso_r" placeholder="Peso (kg)">
    <input type="number" id="altura_r" placeholder="Altura (cm)">
    
    <select id="actividad">
      <option value="">Nivel de actividad f√≠sica</option>
      <option value="1">Bajo</option>
      <option value="2">Moderado</option>
      <option value="3">Alto</option>
    </select>

    <select id="agua">
      <option value="">Consumo diario de agua</option>
      <option value="1">Menos de 1L</option>
      <option value="2">1-2L</option>
      <option value="3">M√°s de 2L</option>
    </select>

    <input type="number" id="sueno" placeholder="Horas de sue√±o">

    <button onclick="calcularRiesgo()" class="btn">Calcular Riesgo</button>
    <p id="resultadoRiesgo"></p>
  </div>

  <!-- Video Box (right side) -->
  <div class="interactive-box video-box">
    <h3>üé• Video Explicativo</h3>
    <p>Mira este video para entender mejor los riesgos de la obesidad y c√≥mo influyen los h√°bitos de vida.</p>
    <div class="video-container">
      <iframe 
        src="https://www.youtube-nocookie.com/embed/jsgK2uuAh6w" 
        frameborder="0" 
        allowfullscreen>
      </iframe>
    </div>
  </div>

</div>



  
</section>


  </main>

  <footer>
    &copy; 2025 Portal Obesidad - ML | Proyecto acad√©mico
  </footer>

  <script>
    function showSection(id, element) {
      document.querySelectorAll('section').forEach(sec => sec.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      document.querySelectorAll('nav a').forEach(link => link.classList.remove('active'));
      element.classList.add('active');
    }
    function calcularIMC() {
  const peso = parseFloat(document.getElementById("peso").value);
  const altura = parseFloat(document.getElementById("altura").value) / 100; // convertir cm a m
  if (!peso || !altura) {
    document.getElementById("resultadoIMC").innerText = "‚ö†Ô∏è Por favor, introduce valores v√°lidos.";
    return;
  }
  const imc = (peso / (altura * altura)).toFixed(2);
  let estado = "";
  if (imc < 18.5) estado = "Bajo peso";
  else if (imc < 24.9) estado = "Peso normal";
  else if (imc < 29.9) estado = "Sobrepeso";
  else estado = "Obesidad";

  document.getElementById("resultadoIMC").innerText = `Tu IMC es ${imc} ‚Üí ${estado}`;
}

function calcularRiesgo() {
  const edad = parseInt(document.getElementById("edad").value);
  const peso = parseFloat(document.getElementById("peso_r").value);
  const altura = parseFloat(document.getElementById("altura_r").value) / 100; // cm ‚Üí m
  const actividad = parseInt(document.getElementById("actividad").value);
  const agua = parseInt(document.getElementById("agua").value);
  const sueno = parseInt(document.getElementById("sueno").value);

  if (!edad || !peso || !altura || !actividad || !agua || !sueno) {
    document.getElementById("resultadoRiesgo").innerText = "‚ö†Ô∏è Por favor, completa todos los campos.";
    return;
  }

  // Calcular IMC
  const imc = peso / (altura * altura);

  // Puntuaci√≥n base
  let score = 0;

  if (imc >= 30) score += 3;
  else if (imc >= 25) score += 2;
  else score += 1;

  if (actividad === 1) score += 2;
  else if (actividad === 2) score += 1;

  if (agua === 1) score += 2;
  else if (agua === 2) score += 1;

  if (sueno < 6) score += 2;
  else if (sueno < 8) score += 1;

  if (edad > 50) score += 1;

  let riesgo = "";
  if (score <= 3) riesgo = "Riesgo Bajo ‚úÖ";
  else if (score <= 6) riesgo = "Riesgo Moderado ‚ö†Ô∏è";
  else riesgo = "Riesgo Alto ‚ùå";

  document.getElementById("resultadoRiesgo").innerText = `Resultado: ${riesgo}`;
}
(function () {
    const steps = Array.from(document.querySelectorAll('#ciclo .step'));
    const panels = Array.from(document.querySelectorAll('#ciclo .panel'));
    const progress = document.getElementById('ml-progress');
    const prevBtn = document.getElementById('ml-prev');
    const nextBtn = document.getElementById('ml-next');
    const videoToggle = document.getElementById('ml-video-toggle');
    const videoWrap = document.getElementById('ml-video-wrap');
    const total = steps.length;
    let current = 0;

   function updateUI(index) {
  current = Math.max(0, Math.min(total - 1, index));
  steps.forEach(s => s.classList.remove('active'));
  panels.forEach(p => p.classList.remove('active'));
  steps[current].classList.add('active');
  panels[current].classList.add('active');
  progress.style.width = ((current) / (total - 1)) * 100 + '%';
}
    // Click on steps
    steps.forEach((stepEl, i) => {
      stepEl.addEventListener('click', () => updateUI(i));
      stepEl.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); updateUI(i); }
      });
    });

    // Prev/Next
    prevBtn.addEventListener('click', () => updateUI(current - 1));
    nextBtn.addEventListener('click', () => updateUI(current + 1));

    // Keyboard arrows globally when ciclo is visible
    document.addEventListener('keydown', (e) => {
      const isVisible = document.getElementById('ciclo').classList.contains('active');
      if (!isVisible) return;
      if (e.key === 'ArrowRight') updateUI(current + 1);
      if (e.key === 'ArrowLeft')  updateUI(current - 1);
    });

    // Toggle video
    // videoToggle.addEventListener('click', () => {
    //   videoWrap.classList.toggle('open');
    // });

    // Initialize
    updateUI(0);
  })();



  
document.addEventListener("DOMContentLoaded", () => {
  const panels = document.querySelectorAll(".panel");
  const prevBtn = document.querySelector(".nav-buttons .prev");
  const nextBtn = document.querySelector(".nav-buttons .next");
  const toggleVideoBtn = document.querySelector(".nav-buttons .toggle-video");

  let currentStep = 0; // start at first panel

  function showStep(stepIndex) {
    panels.forEach((panel, i) => {
      panel.style.display = (i === stepIndex) ? "block" : "none";
    });
    currentStep = stepIndex;
    // disable prev at first step, next at last step
    prevBtn.disabled = (currentStep === 0);
    nextBtn.disabled = (currentStep === panels.length - 1);
  }

  // Init first step
  showStep(currentStep);

  // Event listeners
  prevBtn.addEventListener("click", () => {
    if (currentStep > 0) {
      showStep(currentStep - 1);
      window.scrollTo({ top: 0, behavior: "smooth" });
    }
  });

  nextBtn.addEventListener("click", () => {
    if (currentStep < panels.length - 1) {
      showStep(currentStep + 1);
      window.scrollTo({ top: 0, behavior: "smooth" });
    }
  });

  toggleVideoBtn.addEventListener("click", () => {
    const currentPanel = panels[currentStep];
    const video = currentPanel.querySelector("video, iframe");
    if (video) {
      if (video.style.display === "none" || video.style.display === "") {
        video.style.display = "block";
        toggleVideoBtn.textContent = "üé• Ocultar video";
      } else {
        video.style.display = "none";
        toggleVideoBtn.textContent = "üé• Ver video";
      }
    } else {
      alert("No hay video en este paso.");
    }
  });
});

function togglePreview() {
    const preview = document.getElementById("pdfPreview");
    preview.style.display = (preview.style.display === "none") ? "block" : "none";
  }
  
  </script>
</body>
</html>
